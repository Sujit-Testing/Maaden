<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE log4j:configuration SYSTEM "log4j.dtd">

<!--
 Java Agent Log4j Configuration
 
 This file controls logging options when running a script in Eclipse
 or from the command line (a console).
 
 For more configuration infromation and examples see the Jakarta Log4j
 website: http://jakarta.apache.org/log4j
-->

<log4j:configuration xmlns:log4j="http://jakarta.apache.org/log4j/">

  <!-- Append messages to the console -->
  <appender name="CONSOLE" class="org.apache.log4j.ConsoleAppender">
    <param name="Threshold" value="DEBUG"/>
    <param name="Target" value="System.out"/>

    <layout class="org.apache.log4j.PatternLayout">
      <!-- The default pattern: Date Priority [Category] Message\n -->
      <param name="ConversionPattern" value="%d{ABSOLUTE} %-5p [%c{1}] %m%n"/>
    </layout>
  </appender>
  
  <!-- Do not log messages -->
  <appender name="NullAppender" class="org.apache.log4j.varia.NullAppender">
  </appender>

  <!-- Log to a file "agent.log" -->
  <appender name="AGENTFILE" class="org.apache.log4j.RollingFileAppender">
    <param name="File" value="agent.log"/>
    <param name="Append" value="false"/>
    <param name="MaxFileSize" value="500KB"/>
    <param name="MaxBackupIndex" value="1"/>
    <param name="Threshold" value="DEBUG"/>
    <layout class="org.apache.log4j.PatternLayout">
      <param name="ConversionPattern" value="%d{yyyy-MM-dd HH:mm:ss} %-5p [%t][%c] %m%n"/>
    </layout>	    
  </appender>
  
  <!-- Buffer events and log them asynchronously -->
  <appender name="ASYNC" class="org.apache.log4j.AsyncAppender">
    <appender-ref ref="CONSOLE"/>
  </appender>
  
  
  <!-- ====================== -->
  <!-- More Appender examples -->
  <!-- ====================== -->
  
<!-- A time/date based rolling appender
  <appender name="FILE" class="org.jboss.logging.appender.DailyRollingFileAppender">
    <param name="File" value="${jboss.home.dir}/../logs/jboss-server.log"/>
    <param name="Append" value="false"/>
    <param name="Threshold" value="DEBUG"/>

    <param name="DatePattern" value="'.'yyyy-MM-dd"/>
    <param name="DatePattern" value="'.'yyyy-MM-dd-HH"/>
    <layout class="org.apache.log4j.PatternLayout">
      <param name="ConversionPattern" value="%d %-5p [%c] %m%n"/>
    </layout>	    
  </appender>
-->

<!-- A size based file rolling appender
  <appender name="FILE" class="org.jboss.logging.appender.RollingFileAppender">
    <param name="File" value="${jboss.home.dir}/../logs/server.log"/>
    <param name="Append" value="false"/>
    <param name="MaxFileSize" value="500KB"/>
    <param name="MaxBackupIndex" value="1"/>

    <layout class="org.apache.log4j.PatternLayout">
      <param name="ConversionPattern" value="%d %-5p [%c] %m%n"/>
    </layout>	    
  </appender>
-->

<!-- EMail events to an administrator
  <appender name="SMTP" class="org.apache.log4j.net.SMTPAppender">
    <param name="Threshold" value="ERROR"/>
    <param name="To" value="admin@myhost.domain.com"/>
    <param name="From" value="nobody@myhost.domain.com"/>
    <param name="Subject" value="JBoss Sever Errors"/>
    <param name="SMTPHost" value="localhost"/>
    <param name="BufferSize" value="10"/>
    <layout class="org.apache.log4j.PatternLayout">
      <param name="ConversionPattern" value="[%d{ABSOLUTE},%c{1}] %m%n"/>
    </layout>
  </appender>
-->

<!-- Syslog events
  <appender name="SYSLOG" class="org.apache.log4j.net.SyslogAppender">
    <param name="Facility" value="LOCAL7"/>
    <param name="FacilityPrinting" value="true"/>
    <param name="SyslogHost" value="localhost"/>
  </appender>
-->

<!-- Log events to JMS (requires a topic to be created)
  <appender name="JMS" class="org.apache.log4j.net.JMSAppender">
    <param name="Threshold" value="ERROR"/>
    <param name="TopicConnectionFactoryBindingName" value="java:/ConnectionFactory"/>
    <param name="TopicBindingName" value="topic/MyErrorsTopic"/>
  </appender>
-->


  <!-- ================ -->
  <!-- Limit categories -->
  <!-- ================ -->


<!-- Categories for IteratingVUser custom script -->
  <category name="VUser">
    <priority value="DEBUG"/>
    <appender-ref ref="ASYNC" />
  </category>

  <category name="oracle.oats.scripting">
    <priority value="INFO"/>
    <appender-ref ref="ASYNC" />
  </category>


<!-- Log startup details when running a script from Eclipse, command line, ... -->
  <category name="oracle.oats.jwgPro">
    <priority value="INFO"/>
    <appender-ref ref="ASYNC" />
  </category>

  <category name="oracle.oats.pro.HTTPVUser">
    <priority value="WARN"/>
    <appender-ref ref="ASYNC" />
  </category>

<!-- View details about the Download Manager -->
  <category name="oracle.oats.pro.HTTPVUser.DownloadManager">
    <priority value="WARN"/>
    <appender-ref ref="ASYNC" />
  </category>

<!-- View adding/removing/getting of documents in the browser cache -->
  <category name="oracle.oats.lbrowser.http.DocCache">
    <priority value="WARN"/>
    <appender-ref ref="ASYNC" />
  </category>

<!-- Log HTTP Browser messages -->
  <category name="oracle.oats.lbrowser.http.RBrowser">
    <priority value="WARN"/>
    <appender-ref ref="ASYNC" />
  </category>
  
<!-- Thread Pool Utility Class -->
  <category name="oracle.oats.lbrowser.utils.workpool.Master">
    <priority value="WARN"/>
    <appender-ref ref="ASYNC" />
  </category>

<!-- SSL Configuration and Create Secure Socket calls -->
  <category name="oracle.oats.lbrowser.config.SSLConfig">
    <priority value="WARN"/>
    <appender-ref ref="ASYNC" />
  </category>

<!-- SSL Session Calls -->
  <category name="oracle.oats.lbrowser.ssl.SSLSession">
    <priority value="WARN"/>
    <appender-ref ref="ASYNC" />
  </category>

<!-- ConnectionPool shows how connections are created and reused -->
  <category name="oracle.oats.lbrowser.http.ConnectionPool">
   <priority value="WARN"/>
   <appender-ref ref="ASYNC" />
  </category>

  <category name="oracle.oats.lbrowser.http.RSyncConnection.Connections">
   <priority value="WARN"/>
   <appender-ref ref="ASYNC" />
  </category>

  <category name="oracle.oats.lbrowser.http.RSyncConnection.Socket.RequestHeaders">
   <priority value="WARN"/>
   <appender-ref ref="ASYNC" />
  </category>

  <category name="oracle.oats.lbrowser.http.RSyncConnection.Socket.ResponseHeaders">
   <priority value="WARN"/>
   <appender-ref ref="ASYNC" />
  </category>

  <category name="oracle.oats.lbrowser.http.RSyncConnection.Socket.ResponseContent">
   <priority value="WARN"/>
   <appender-ref ref="ASYNC" />
  </category>

<!-- Show authentication manager information as it is used -->
  <category name="oracle.oats.lbrowser.http.AuthenticateHandler">
   <priority value="WARN"/>
   <appender-ref ref="ASYNC" />
  </category>


  <category name="oracle.oats.lbrowser.http.RSyncConnection.SpeedEmulation">
   <priority value="WARN"/>
   <appender-ref ref="ASYNC" />
  </category>

<!-- Databank messages -->
  <category name="oracle.oats.jagent.cntlproxy.databank">
   <priority value="WARN"/>
   <appender-ref ref="ASYNC" />
  </category>

<!-- e-Load to Agent Messages Logging -->
<category name="oracle.oats.jagent.cntlproxy.AgentVUsManager">
   <priority value="WARN"/>
   <appender-ref ref="ASYNC" />
</category>

<!-- Script loading and startup messages -->
<category name="oracle.oats.jagent.EntryPoint">
   <priority value="WARN"/>
   <appender-ref ref="ASYNC" />
</category>
<category name="oracle.oats.jagent.ivus.AgentInfoProfile">
   <priority value="WARN"/>
   <appender-ref ref="ASYNC" />
</category>
<category name="oracle.oats.tester">
   <priority value="WARN"/>
   <appender-ref ref="ASYNC" />
</category>
<category name="oracle.oats.jagent.AgentClassLoader">
   <priority value="WARN"/>
   <appender-ref ref="ASYNC" />
</category>

<!-- Status Report Poll Logger (sends counter and iserv reports) -->
<category name="oracle.oats.jagent.cntlproxy.ReportSender">
   <priority value="WARN"/>
   <appender-ref ref="ASYNC" />
</category>
<category name="CounterLogger">
   <priority value="WARN"/>
   <appender-ref ref="ASYNC" />
</category>
<category name="IservPollLogger">
   <priority value="WARN"/>
   <appender-ref ref="ASYNC" />
</category>

<!-- Log agent memory and thread pool utilization -->
  <category name="oracle.oats.jagent.AgentMonitor">
    <priority value="INFO"/>
    <appender-ref ref="ASYNC" />
  </category>

<!-- OneSight / Java Agent messages -->
  <category name="oracle.oats.osProxy.AgentManager">
    <priority value="WARN"/>
    <appender-ref ref="ASYNC" />
  </category>
  <category name="oracle.oats.osProxy.Dispatcher">
    <priority value="WARN"/>
    <appender-ref ref="ASYNC" />
  </category>
  <category name="oracle.oats.os.controller.ResultsListener">
    <priority value="WARN"/>
    <appender-ref ref="ASYNC" />
  </category>


  <!-- ======================= -->
  <!-- Setup the Root category -->
  <!-- ======================= -->

  <root>
   <appender-ref ref="NullAppender" />
  </root>

</log4j:configuration>
